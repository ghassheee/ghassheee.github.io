---
title: Arch Linux Stability
layout: dep
date: 2000-01-04
---

# /var


* `/var partition >= 4-8 GB ` will suit
* `/var/cache/pacman/pkg` : installed packages


if `/var` is full, use
~~~sh
fduparch.sh ## mv compressed files into HOME dir.
~~~


# AUR

* AUR is not secure.
* when AUR is installed, check `PKGBUIKLD`.

* when you changed 'mirror server', do `pacman -Syu`


# linux-lts (syslinux)

1. ` pacman -S linux-lts `
2. edit /boot/grub/grub.cfg
    * vmlinuz-linux => vmlinuz-linux-lts
    * initramfs-linux.img => initramfs-linux-lts.img


# update

Every two weeks, do
~~~sh
pacman -Syu     ## system update
~~~

Read `Arch News` in system update



# config files

* `.pacnew` : used when the updated software has new config
* `.pacsave` : when software is uninstalled, the config file will get this file extention.
* `.pacorig` : special cases

* edit ` config ` files only after copy it; ` cp config config.bak `


# Tools

~~~sh
pacdiff  ## a useful tool

pacmatic    ## pacman wrapper which will automate the confirmation process of Arch News.
pacmatic    ## warns when configs are unused or updated.
pacmatic    ## can be an alias of `pacman`
~~~



# DO NOT

* DO NOT USE `pacman` with `-f` option.
* DO NOT USE `pacman -Rdd` : `-d` flag ignores dependencies.
* DO NOT USE `pacman -Scc` : old packages are needed. intead `pacman -Sc`



# Revert Unstable Upgrades

~~~
pacman -U /var/cache/pacman/pkg/PKGNAME.pkg.tar.gz
~~~






# Backup



BackUp the Installed List
~~~sh
pacman -Qqne > /path/to/dir/pkg.list
~~~

Recovery
~~~sh
pacman -S --needed $(< /path/to/dir/pkg.list)
~~~


Backup these dir once a month

* `/etc`
* `/home`
* `/srv` :
* `/var`

Backup `/etc`
~~~sh
tar -cjf /path/to/dir/etc-backup.tar.bz /etc
~~~

Recover `/etc`
~~~sh
cd /
tar -xvjf etc-backup.tar.bz2
~~~




# Security News

* READ `Common Vulnerabilities and Exposure` from `National Vulnerability Database`
* Arch News ?
